{
    "resources": [
      {
        "type": "azurefunctions",
        "instances": [
          {
            "name": "web"
          }
        ]
      },
      {
        "type": "azurekeyvault",
        "instances": [
          {
            "name": "todo"
          }
        ]
      },
      {
        "type": "azurecosmosdb",
        "instances": [
          {
            "name": "todo"
          }
        ]
      }
    ],
    "bindings": [
      {
        "source": "${azurefunctions.web}",
        "target": "${azurecosmosdb.todo}",
        "connection": "secret",
        "store": "${azurekeyvault.todo}",
        "key": "AZURE_azurecosmosdb_CONNECTION_STRING"
      },
      {
        "source": "${azurefunctions.web}",
        "target": "${azurekeyvault.todo}",
        "connection": "system-identity",
        "key": "AZURE_KEY_VAULT_ENDPOINT"
      }
    ],
    "services": [
      {
        "host": "${azurefunctions.web}",
        "language": "ts",
        "project": "src/web"
      }
    ]
  }