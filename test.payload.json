{
    "resources": [
      {
        "type": "azurefunctions",
        "instances": [
          {
            "name": "web"
          }
        ]
      },
      {
        "type": "azurekeyvault",
        "instances": [
          {
            "name": "todo"
          }
        ]
      },
	  {
		"type": "azurestorageaccount",
		"instances": [
			{
				"name": "test"
			}
		]
	  }
    ],
    "bindings": [
      {
        "source": "${azurefunctions.web}",
        "target": "${azurestorageaccount.test}",
        "connection": "secret",
        "store": "${azurekeyvault.todo}",
        "key": "AZURE_STORAGE_CONNECTION_STRING"
      },
      {
        "source": "${azurefunctions.web}",
        "target": "${azurekeyvault.todo}",
        "connection": "system-identity",
        "key": "AZURE_KEY_VAULT_ENDPOINT"
      }
    ],
    "services": [
      {
        "host": "${azurefunctions.web}",
        "language": "ts",
        "project": "src/web"
      }
    ]
  }
